<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:substituteby="fragments/header :: head">
    <title>Home</title>
</head>
<body>

<div th:replace="fragments/header :: header">
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                        aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Coffee Shop</a>
            </div>
        </div>
    </nav>
</div>
<div class="jumbotron"></div>

<div class="container">
    <div class="error" th:if="${param.error}"
         th:with="errorMsg=${session['SPRING_SECURITY_LAST_EXCEPTION'].message}">
        Reason: <span th:text="${errorMsg}">Wrong input!</span>
    </div>
    <div class="error" th:if="${success}">
        <span th:text="${success}">Success.</span>
    </div>
    <h1>Edit Profile</h1><br/>
    <!--/*@thymesVar id="profile" type="com.ashokn.model.Person"*/-->
    <form class="" method="post" action="/updateProfile" th:action="@{/updateProfile/{path}(path=${profile.id})}">
        <div class="form-group">
            <label>Email</label>
            <input type="text" placeholder="Email" class="form-control" name="email" th:value="${profile.email}"/>
        </div>
        <div class="form-group">
            <label>Password (type only if you want to change passowrd)</label>
            <input type="password" placeholder="Password (type only if you want to change it)" class="form-control" name="password" autocomplete="false"/>
        </div>
        <div class="form-group">
            <label>First Name</label>
            <input type="text" placeholder="First Name" class="form-control" name="firstName" th:value="${profile.firstName}"/>
        </div>
        <div class="form-group">
            <label>Last Name</label>
            <input type="text" placeholder="Last Name" class="form-control" name="lastName" th:value="${profile.lastName}"/>
        </div>
        <div class="form-group">
            <label>Phone</label>
            <input type="tel" placeholder="Phone" class="form-control" name="phone" th:value="${profile.phone}"/>
        </div>
        <div class="form-group">
            <label>City</label>
            <input type="text" placeholder="City" class="form-control" name="address.city" th:value="${profile.address.city}"/>
        </div>
        <div class="form-group">
            <label>State</label>
            <input type="text" placeholder="State" class="form-control" name="address.state" th:value="${profile.address.state}"/>
        </div>
        <div class="form-group">
            <label>Country</label>
            <input type="tel" placeholder="Country" class="form-control" name="address.country" th:value="${profile.address.country}"/>
        </div>
        <div class="form-group">
            <label>Zip code</label>
            <input type="tel" placeholder="Zip Code" class="form-control" name="address.zipcode" th:value="${profile.address.zipcode}"/>
        </div>
        <input type="hidden" name="id" th:value="${profile.id}"/>
        <button type="submit" class="btn btn-success">Update Profile</button>
    </form>
</div>

<div th:replace="fragments/footer :: ${#authorization.expression('isAuthenticated()')} ? 'footer-admin' : 'footer'">
    &copy; 2017 The Static Templates
</div>

</body>
</html>